{"ast":null,"code":"var _jsxFileName = \"/home/rupali/Asessment 3/frontend/src/components/Profile.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true); // State to manage loading status\n  const [error, setError] = useState(null); // State for error messages\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const response = await axios.get('http://localhost:5001/api/profile', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(response.data);\n        } catch (error) {\n          console.error(\"Error fetching user info:\", error);\n          setError(\"Error fetching user info.\"); // Set error message\n        } finally {\n          setLoading(false); // Set loading to false regardless of outcome\n        }\n      } else {\n        setLoading(false);\n        setError(\"No token found. Please log in.\"); // Handle case with no token\n      }\n    };\n    fetchUserInfo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"User Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading user information...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this) : user ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      className: \"mt-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"User not found. Please check your login.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"PA9FxEY9xSNRrsSqaLtbYei52Hs=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Profile","_s","user","setUser","loading","setLoading","error","setError","fetchUserInfo","token","localStorage","getItem","response","get","headers","Authorization","data","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","formik","handleSubmit","_c","$RefreshReg$"],"sources":["/home/rupali/Asessment 3/frontend/src/components/Profile.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\ninterface UserProfile {\n    firstName: string;\n    lastName: string;\n    email: string;\n}\n\nconst Profile: React.FC = () => {\n    const [user, setUser] = useState<UserProfile | null>(null);\n    const [loading, setLoading] = useState(true); // State to manage loading status\n    const [error, setError] = useState<string | null>(null); // State for error messages\n\n    useEffect(() => {\n        const fetchUserInfo = async () => {\n            const token = localStorage.getItem('token');\n            if (token) {\n                try {\n                    const response = await axios.get<UserProfile>('http://localhost:5001/api/profile', {\n                        headers: { Authorization: `Bearer ${token}` },\n                    });\n                    setUser(response.data);\n                } catch (error) {\n                    console.error(\"Error fetching user info:\", error);\n                    setError(\"Error fetching user info.\"); // Set error message\n                } finally {\n                    setLoading(false); // Set loading to false regardless of outcome\n                }\n            } else {\n                setLoading(false);\n                setError(\"No token found. Please log in.\"); // Handle case with no token\n            }\n        };\n\n        fetchUserInfo();\n    }, []);\n\n    return (\n        <div className=\"container mt-5\">\n            <h1 className=\"text-center\">User Profile</h1>\n            {loading ? (\n                <p>Loading user information...</p>\n            ) : error ? (\n                <p className=\"text-danger\">{error}</p>\n            ) : user ? (\n                <form onSubmit={formik.handleSubmit} className=\"mt-4\">\n                    {/* Form Fields */}\n                </form>\n            ) : (\n                <p>User not found. Please check your login.</p>\n            )}\n        </div>\n    );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAGlD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,sCAAsC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQ9C,MAAMC,OAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAqB,IAAI,CAAC;EAC1D,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAgB,IAAI,CAAC,CAAC,CAAC;;EAEzDD,SAAS,CAAC,MAAM;IACZ,MAAMa,aAAa,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAIF,KAAK,EAAE;QACP,IAAI;UACA,MAAMG,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAc,mCAAmC,EAAE;YAC/EC,OAAO,EAAE;cAAEC,aAAa,EAAE,UAAUN,KAAK;YAAG;UAChD,CAAC,CAAC;UACFN,OAAO,CAACS,QAAQ,CAACI,IAAI,CAAC;QAC1B,CAAC,CAAC,OAAOV,KAAK,EAAE;UACZW,OAAO,CAACX,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;UACjDC,QAAQ,CAAC,2BAA2B,CAAC,CAAC,CAAC;QAC3C,CAAC,SAAS;UACNF,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;QACvB;MACJ,CAAC,MAAM;QACHA,UAAU,CAAC,KAAK,CAAC;QACjBE,QAAQ,CAAC,gCAAgC,CAAC,CAAC,CAAC;MAChD;IACJ,CAAC;IAEDC,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIT,OAAA;IAAKmB,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC3BpB,OAAA;MAAImB,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC5CnB,OAAO,gBACJL,OAAA;MAAAoB,QAAA,EAAG;IAA2B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,GAClCjB,KAAK,gBACLP,OAAA;MAAGmB,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAEb;IAAK;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,GACtCrB,IAAI,gBACJH,OAAA;MAAMyB,QAAQ,EAAEC,MAAM,CAACC,YAAa;MAACR,SAAS,EAAC;IAAM;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAE/C,CAAC,gBAEPxB,OAAA;MAAAoB,QAAA,EAAG;IAAwC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACjD;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACtB,EAAA,CA7CID,OAAiB;AAAA2B,EAAA,GAAjB3B,OAAiB;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}